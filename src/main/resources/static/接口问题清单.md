# 接口问题清单（User)

## 用户接口

### 注册接口

路径：/api/user/register

方法：POST

请求体：

```json
{
    "username": "祝乙萍",
    "password": "efojT2ci4zPgbm6",
    "email": "ixjlj1.ldk2@gmail.com",
    "phone": "19843953451"
}
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "注册成功"
}
```

---

### 登录接口

路径：/api/user/login

方法：POST

请求体：

```json
{
    "account":"xunzong",
    "password":"123456"
}
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "id": 1,
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ4dW56b25nIiwicm9sZSI6ImFkbWluIiwidXNlcklkIjoxLCJqdGkiOiIwZThlMjY5ZC00MzMwLTQzOTgtODFkZC0wZDlmZjg3NDJjMjYiLCJpYXQiOjE3NTY1MzUzNzksImV4cCI6MTc1NjUzODk3OX0.SA8ojaYa0mAyAC21AKy7ZSEyJrkv7qBSwx1GtfJveE4"
    }
}
```

---

### 登出接口

路径：/api/user/logout

方法：POST

请求体：

```json
export interface ApifoxModel {
    Authorization?: string;
    [property: string]: any;
}
```

反正需要Authorization里的token

其他的不需要，我后端会自动拉入黑名单，防止token被利用

token生效的时间是登录后1个小时

---

### 获取当前用户信息

路径：/api/user/info/{username}

方法：GET

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "id": 1,
        "username": "xunzong",
        "email": "2124159894@qq.com",
        "phone": "15779138804",
        "avatar": "",
        "status": 1,
        "role": "admin",
        "lastLoginTime": "2025-08-29T19:31:43"
    }
}
```

---

 

## 订单接口

### 添加订单

路径：/api/user/order/add

方法：POST

请求体：

```java
private Long userId;//下单用户id
private Long majorId;//需求专业id
private Double price;// 价格
private String title;//订单标题
private String demand;//需求描述
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "添加订单成功"
}
```

---

### 查询订单（此用户,分页）

路径：/api/user/order/{id}

方法：GET

请求体：

```java
//http://localhost:8080/api/admin/list?pageNum=1&pageSize=10
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "total": 2,
        "pageNum": 1,
        "pageSize": 10,
        "list": [
            {
                "id": 1961401168936599554,
                "orderNumber": "70-2-1756469454350-127",
                "price": 114.89,
                "title": "雪崩慢太自从哇塞倒清楚像相当呸",
                "demand": "ut Lorem in laborum",
                "status": 0
            },
            {
                "id": 1961392725710376961,
                "orderNumber": "4-2-1756467441340-831",
                "price": 456.35,
                "title": "整甜许多哼代表摔一同",
                "demand": "id cillum",
                "status": 0
            }
        ]
    }
}
```

---

## 专业接口

### 查询所有专业信息

路径：/api/user/major/list

方法：GET

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": [
        {
            "id": 2,
            "majorName": "计算机科学与技术",
            "majorCode": "CS101",
            "majorDesc": "学习编程、算法、系统等",
            "majorStatus": 1
        },
        {
            "id": 4,
            "majorName": "软件工程",
            "majorCode": "SE202",
            "majorDesc": "专注于软件开发与项目管理",
            "majorStatus": 1
        }
    ]
}
```

返回结果为一个数组列表



## 文件接口

### 文件上传接口

路径：/api/common/file/upload

方法：POST

响应结果：

```java
private Long id;//文件id
private String fileName;//文件名
private String fileUrl;//文件URL
private String fileType;//文件类型
private Long fileSize;//文件大小(字节)
```

---

### 头像文件上传

路径：/api/common/file/upload/avatar

方法：POST

响应结果：

```java
private Long id;//文件id
private String fileName;//文件名
private String fileUrl;//文件URL
private String fileType;//文件类型
private Long fileSize;//文件大小(字节)
```



---

# 接口问题清单（Admin）

## 用户接口

### 获取用户列表（所有用户信息）

路径：/api/admin/list

方法：GET

请求体：

```java
//http://localhost:8080/api/admin/list?pageNum=1&pageSize=10
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "total": 2,
        "pageNum": 1,
        "pageSize": 10,
        "list": [
            {
                "id": 1,
                "username": "xunzong",
                "email": "2124159894@qq.com",
                "phone": "15779138804",
                "avatar": "",
                "status": 1,
                "role": "admin",
                "lastLoginTime": "2025-08-29T20:49:14"
            },
            {
                "id": 2,
                "username": "xunzong1",
                "email": "2124159895@qq.com",
                "phone": "15779138805",
                "avatar": "",
                "status": 1,
                "role": "user",
                "lastLoginTime": "2025-08-29T10:49:58"
            }
        ]
    }
}
```

使用了分页，默认pageNum=1,pageSize=10

---

### 删除用户（管理员专属）

路径：/api/admin/{id}

方法：DELETE

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "删除用户成功"
}
```

---

### 修改用户信息（如封号）

路径：/api/admin/

方法：PUT

请求体：

```java
private Long id;//用户id
private String username;//用户名
private String password;//密码
private String email;//邮箱
private String phone;//手机号
private String avatar;//头像
private String role;//角色
private Integer status;//状态
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "修改用户信息成功"
}
```

其中的id是必须要有的，其他的可以是一个或多个

---

## 订单接口

### 查询所有订单

路径：/api/admin/order/list

方法：GET

请求体：

```java
//http://localhost:8080/api/admin/list?pageNum=1&pageSize=10
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "total": 3,
        "pageNum": 1,
        "pageSize": 10,
        "list": [
            {
                "id": 1961401168936599554,
                "orderNumber": "70-2-1756469454350-127",
                "price": 114.89,
                "title": "雪崩慢太自从哇塞倒清楚像相当呸",
                "demand": "ut Lorem in laborum",
                "status": 0
            },
            {
                "id": 1961394592431484930,
                "orderNumber": "70-17-1756467886399-297",
                "price": 114.89,
                "title": "雪崩慢太自从哇塞倒清楚像相当呸",
                "demand": "ut Lorem in laborum",
                "status": 0
            },
            {
                "id": 1961392725710376961,
                "orderNumber": "4-2-1756467441340-831",
                "price": 456.35,
                "title": "整甜许多哼代表摔一同",
                "demand": "id cillum",
                "status": 0
            }
        ]
    }
}
```

---

### 根据用户id查询用户订单

路径：/api/admin/order/{id}

方法：GET

请求体：

```java
//http://localhost:8080/api/admin/list?pageNum=1&pageSize=10
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": {
        "total": 2,
        "pageNum": 1,
        "pageSize": 10,
        "list": [
            {
                "id": 1961401168936599554,
                "orderNumber": "70-2-1756469454350-127",
                "price": 114.89,
                "title": "雪崩慢太自从哇塞倒清楚像相当呸",
                "demand": "ut Lorem in laborum",
                "status": 0
            },
            {
                "id": 1961392725710376961,
                "orderNumber": "4-2-1756467441340-831",
                "price": 456.35,
                "title": "整甜许多哼代表摔一同",
                "demand": "id cillum",
                "status": 0
            }
        ]
    }
}
```



---

### 修改订单(单个或多个字段都可以)

路径：/api/admin/order/

方法：GET

请求体：

```json
{
    "id": 1961401168936599554,
    "userId": 2,
    "majorId": 4,
    "price": 286.69,
    "title": "吸捣没好在生动油门但是全哎出生",
    "demand": "laboris nostrud",
    "status": 3
}
```

响应请求：

```json
{
    "code": 1,
    "msg": null,
    "data": "订单修改成功"
}
```

其中的id是必须要有的

---

### 删除订单

路径：/api/admin/order/{id}

方法：DELETE

响应请求：

```json
{
    "code": 1,
    "msg": null,
    "data": "订单删除成功"
}
```



---

### 添加订单

路径：/api/admin/order/add

方法：POST

请求体：

```java
private Long userId;//下单用户id
private Long majorId;//需求专业id
private Double price;// 价格
private String title;//订单标题
private String demand;//需求描述
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "添加订单成功"
}
```



---

## 专业接口

### 添加专业

路径：/api/admin/major/add

方法：POST

请求体：

```java
    private String majorName;//专业名称
    private String majorCode;//专业代码
    private String majorDesc;//专业描述
```

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "添加专业成功"
}
```

---

### 修改专业状态

路径：/api/admin/major/{id}/status/{status}

方法：PUT

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "修改专业状态成功"
}
```

其中的id是专业id，status是状态0-禁用，1-启用

---

### 删除专业

路径：/api/admin/major/{id}

方法：DELETE

响应结果：

```json
{
    "code": 1,
    "msg": null,
    "data": "删除专业状态成功"
}
```

其中的id是专业id